{% extends 'base.html.twig' %}

{% block title %}Connexion{% endblock %}

{% block stylesheets %}
    {{ parent() }}
    <style>
        /* Styles de base */
        body {
            -webkit-font-smoothing: antialiased;
            background-color: #f4f7ff;
        }

        /* Styles pour l'animation d'apparition */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .fadeIn {
            animation: fadeIn ease 4s;
            animation-fill-mode: forwards;
        }

        /* Styles pour le bouton */
        .btn-primary {
            background-color: #007bff; /* Bleu par défaut */
            color: #ffffff; /* Texte blanc */
            border: 1px solid #007bff; /* Bordure du même bleu */
            transition: all 0.3s ease; /* Transition douce pour l'animation */
        }

        .btn-primary:hover, .btn-primary:focus {
            background-color: #0056b3; /* Bleu plus foncé au survol */
            border-color: #0056b3; /* Bordure du même bleu foncé */
            transform: scale(1.05); /* Légère augmentation de la taille */
            box-shadow: 0 0 10px #999; /* Ombre portée pour un effet de profondeur */
        }
    </style>
{% endblock %}

{% block body %}
    <div class="container mt-5">
        <div class="row">
            <div class="col-md-6 offset-md-3">
                <div class="card">
                    <div class="card-body">
                        <h2 class="card-title text-center">Connexion</h2>
                        <!-- Début du formulaire de connexion -->
                        <form method="post" action="{{ path('app_login') }}">
                            <div class="mb-3">
                                <label for="inputEmail" class="form-label">Adresse Email</label>
                                <input type="email" class="form-control" id="inputEmail" name="email" required autofocus>
                            </div>
                            <div class="mb-3">
                                <label for="inputPassword" class="form-label">Mot de passe</label>
                                <input type="password" class="form-control" id="inputPassword" name="password" required>
                            </div>
                            <button type="submit" class="btn btn-primary">Se connecter</button>
                        </form>
                        <!-- Fin du formulaire de connexion -->
                    </div>
                </div>
                <div class="text-center mt-3">
                    <a href="{{ path('app_member_new') }}">Créer un compte</a> |
                    <a href="{{ path('app_forgot_password_request') }}">Mot de passe oublié?</a>
                </div>
            </div>
        </div>
    </div>
{% endblock %}

{% block javascripts %}
    {{ parent() }}
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.3.1/dist/canvas-confetti.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const button = document.querySelector('button[type="submit"]');
            button.addEventListener('click', function(e) {
                // Lancer les confettis !
                confetti({
                    particleCount: 100,
                    spread: 70,
                    origin: { y: 0.6 }
                });
            });
        });
    </script>
{% endblock %}
